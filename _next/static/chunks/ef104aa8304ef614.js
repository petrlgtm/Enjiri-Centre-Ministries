(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43195,e=>{"use strict";var t=e.i(44816),n=e.i(98501),r=e.i(54939),i=e.i(18647),a=e.i(36580),l=e.i(55260),s=e.i(89832),o=e.i(19981),d=e.i(10583),u=e.i(67457),p=e.i(87417),c=e.i(87636),f=e.i(97275),m=e.i(61218),h=e.i(75077),x=e.i(81095),g=e.i(59454),y=e.i(19202),I=e.i(3448),P=e.i(91207),v=e.i(13186),w=e.i(76605),b=e.i(66312),j=e.i(7560),S=e.i(23792),_=e.i(7697),E=e.i(31199),N=e.i(60363),T=e.i(54390),A=e.i(43868),D=e.i(59482),R=e.i(97146),C=e.i(47679),L=e.i(78372);class O extends Error{constructor({message:e,context:t,helpId:n,cause:r}){super(e),this.name="PaneResolutionError",this.context=t,this.helpId=n,this.cause=r}}function $(e){let t,n,r=(t=e((e,t,n)=>{if(!e)throw new O({message:"Pane returned no child",context:t,helpId:"structure-item-returned-no-child"});return e&&"function"==typeof e?.then||(0,p.isObservable)(e)?(0,c.from)(e).pipe((0,y.switchMap)(e=>r(e,t,n))):(0,i.isRecord)(e)&&"function"==typeof e.serialize?r(e.serialize(t),t,n):"function"==typeof e?r(e(t.id,t),t,n):(0,f.of)(e)}),n=(...e)=>t(...e).pipe((0,I.publishReplay)(1),(0,P.refCount)()),(e,t,r)=>{try{return n(e,t,r)}catch(e){throw e instanceof O?e:new O({message:"string"==typeof e?.message?e.message:"",context:t,cause:e})}});return r}let k=new WeakMap;function z(e,t){let n=k.get(e)||new Map;if(n){let e=n.get(t);if(e)return e}let r=e[t];if("function"!=typeof r)throw Error(`Expected property \`${t}\` to be a function but got ${typeof r} instead.`);let i=r.bind(e);return n.set(t,i),k.set(e,n),i}async function M(e){let t=new Map,n=$(e=>(n,r,i)=>{let a=n&&`${(0,l.assignId)(n)}-${r.path.join("__")}`,s=a&&t.get(a);if(s)return s;let o=e(n,r,i);return a&&t.set(a,o),o}),r=[[{id:`__edit__${e.params.id}`,params:{...(0,d.omit)(e.params,["id"]),type:e.params.type},payload:e.payload}]];async function i({currentId:e,flatIndex:t,intent:r,params:a,parent:l,path:s,payload:o,unresolvedPane:d,levelIndex:u,structureContext:p}){if(!d)return[];let{id:c,type:f,...h}=a,x=await (0,m.firstValueFrom)(n(d,{id:e,splitIndex:0,parent:l,path:s,index:t,params:{},payload:void 0,structureContext:p},t));return"document"===x.type&&x.id===c?[{panes:[...s.slice(0,s.length-1).map(e=>[{id:e}]),[{id:c,params:h,payload:o}]],depthIndex:s.length,levelIndex:u}]:x.canHandleIntent?.(r,a,{pane:x,index:t})||"documentList"===x.type&&x.schemaTypeName===f&&"_type == $type"===x.options.filter?[{panes:[...s.map(e=>[{id:e}]),[{id:a.id,params:h,payload:o}]],depthIndex:s.length,levelIndex:u}]:"list"===x.type&&x.child&&x.items?(await Promise.all(x.items.map((e,n)=>"divider"===e.type?Promise.resolve([]):i({currentId:e._id||e.id,flatIndex:t+1,intent:r,params:a,parent:x,path:[...s,e.id],payload:o,unresolvedPane:"function"==typeof x.child?z(x,"child"):x.child,levelIndex:n,structureContext:p})))).flat():[]}let a=(await i({currentId:"root",flatIndex:0,levelIndex:0,intent:e.intent,params:e.params,parent:null,path:[],payload:e.payload,unresolvedPane:e.rootPaneNode,structureContext:e.structureContext})).sort((e,t)=>e.depthIndex===t.depthIndex?e.levelIndex-t.levelIndex:e.depthIndex-t.depthIndex)[0];return a?a.panes:r}let G=(e,t)=>{let n=e.replace(/^__edit__/,""),{params:r,payload:i,structureContext:{resolveDocumentNode:a}}=t,{type:l,template:s}=r;if(!l)throw Error(`Document type for document with ID ${n} was not provided in the router params.`);let o=a({schemaType:l,documentId:n}).id("editor");return s&&(o=o.initialValueTemplate(s,i)),o.serialize()},B=e=>{let t={type:e.type,id:e.routerPaneSibling.id,params:e.routerPaneSibling.params||{},payload:e.routerPaneSibling.payload||null,flatIndex:e.flatIndex,groupIndex:e.groupIndex,siblingIndex:e.siblingIndex,path:e.path,paneNode:"resolvedMeta"===e.type?(0,l.assignId)(e.paneNode):null};return`metaHash(${JSON.stringify(t)})`};function F(e){return e?.panes||[]}function H(){return new g.ReplaySubject(1)}function W(e){let t=e.reduce(K,[]),n=t.length,r=e.map(r=>{let{groupIndex:i,flatIndex:a,siblingIndex:s,routerPaneSibling:o,path:d}=r,u=o.id,p=t[i+1];return{active:i===n-2,childItemId:p?.[0].id??null,index:a,itemId:o.id,groupIndex:i,key:`${"loading"===r.type?"unknown":r.paneNode.id}-${u}-${s}`,pane:"loading"===r.type?l.LOADING_PANE:r.paneNode,params:o.params||{},path:d.join(";"),payload:o.payload,selected:a===e.length-1,siblingIndex:s,maximized:!1}});return{paneDataItems:r,routerPanes:t,resolvedPanes:r.map(U)}}function U(e){return e.pane}function K(e,t){let n=e[t.groupIndex]||[];return n[t.siblingIndex]=t.routerPaneSibling,e[t.groupIndex]=n,e}async function V(e,t,n){if(t&&n)return{id:t,type:n};if(!t&&n)return{id:(0,E.uuid)(),type:n};if(t&&!n){let n=await (0,m.firstValueFrom)(e.resolveTypeForDocument(t));return{id:t,type:n}}throw new O({message:"Neither document `id` or `type` was provided when trying to resolve intent."})}let J={},q=(0,r.memo)(function(){let e,t,a=(0,n.c)(7),{navigate:s}=(0,o.useRouter)(),d=(0,o.useRouterState)(Y),{rootPaneNode:u,structureContext:p}=(0,l.useStructureTool)(),c=(0,i.useDocumentStore)(),[f,m]=(0,r.useState)(null);if(f)throw f;return a[0]!==c||a[1]!==d||a[2]!==s||a[3]!==u||a[4]!==p?(e=()=>{if(d){let{intent:e,params:t,payload:n}=d,r=!1;return(async function(){let{id:i,type:a}=await V(c,"string"==typeof t.id?t.id:void 0,"string"==typeof t.type?t.type:void 0);if(r)return;let l=await M({intent:e,params:{...t,id:i,type:a},payload:n,rootPaneNode:u,structureContext:p});r||s({panes:l},{replace:!0})})().catch(m),()=>{r=!0}}},t=[c,d,s,u,p],a[0]=c,a[1]=d,a[2]=s,a[3]=u,a[4]=p,a[5]=e,a[6]=t):(e=a[5],t=a[6]),(0,r.useEffect)(e,t),null});function Y(e){let t="string"==typeof e.intent?e.intent:void 0;return t?{intent:t,params:(0,i.isRecord)(e.params)?e.params:J,payload:e.payload}:void 0}let Q=R.styled.span.withConfig({displayName:"PathSegment",componentId:"sc-jnonai-0"})`&:not(:last-child)::after{content:' âž ';opacity:0.5;}`;function X(e){let r,l,o,d,u,p,c,f,m,h,x,g,y,I,P,v,w,b,j,S,_,E,D,R,C,L,$,k,z,M,G=(0,n.c)(74),{error:B}=e;if(!(B instanceof O))throw B;let{cause:F}=B,{t:H}=(0,i.useTranslation)(s.structureLocaleNamespace),W=F?.stack||B.stack;G[0]!==F||G[1]!==B.message||G[2]!==W?(r=W&&!(F instanceof s.SerializeError)&&!B.message.includes("Module build failed:"),G[0]=F,G[1]=B.message,G[2]=W,G[3]=r):r=G[3];let U=r;if(G[4]!==F||G[5]!==B.helpId||G[6]!==H){let e,n=F instanceof s.SerializeError?F.path:[];p=F instanceof s.SerializeError&&F.helpId||B.helpId,u=ee,d=A.Card,c="fill",f="auto",m=4,h="border",x="critical",o=A.Container,G[25]!==H?(e=H("structure-error.header.text"),G[25]=H,G[26]=e):e=G[26],G[27]!==e?(j=(0,t.jsx)(A.Heading,{as:"h2",children:e}),G[27]=e,G[28]=j):j=G[28],l=A.Card,g=4,y=4,I=2,P="auto",v=1,w="inherit",b=n.length>0&&(0,t.jsxs)(A.Stack,{space:2,children:[(0,t.jsx)(A.Text,{size:1,weight:"medium",children:H("structure-error.structure-path.label")}),(0,t.jsx)(A.Code,{children:n.slice(1).map(Z)})]}),G[4]=F,G[5]=B.helpId,G[6]=H,G[7]=l,G[8]=o,G[9]=d,G[10]=u,G[11]=p,G[12]=c,G[13]=f,G[14]=m,G[15]=h,G[16]=x,G[17]=g,G[18]=y,G[19]=I,G[20]=P,G[21]=v,G[22]=w,G[23]=b,G[24]=j}else l=G[7],o=G[8],d=G[9],u=G[10],p=G[11],c=G[12],f=G[13],m=G[14],h=G[15],x=G[16],g=G[17],y=G[18],I=G[19],P=G[20],v=G[21],w=G[22],b=G[23],j=G[24];return G[29]!==H?(S=H("structure-error.error.label"),G[29]=H,G[30]=S):S=G[30],G[31]!==S?(_=(0,t.jsx)(A.Text,{size:1,weight:"medium",children:S}),G[31]=S,G[32]=_):_=G[32],G[33]!==B.message||G[34]!==U||G[35]!==W?(E=U?W.replace(/\(\.\.\.\)\./g,`(...)
  .`).replace(/__WEBPACK_IMPORTED_MODULE_\d+_+/g,"").replace(/___default\./g,".").replace(RegExp(` \\(https?:\\/\\/${window.location.host}`,"g")," ("):B.message,G[33]=B.message,G[34]=U,G[35]=W,G[36]=E):E=G[36],G[37]!==E?(D=(0,t.jsx)(A.Code,{children:E}),G[37]=E,G[38]=D):D=G[38],G[39]!==_||G[40]!==D?(R=(0,t.jsxs)(A.Stack,{marginTop:4,space:2,children:[_,D]}),G[39]=_,G[40]=D,G[41]=R):R=G[41],G[42]!==p||G[43]!==H?(C=p&&(0,t.jsx)(A.Box,{marginTop:4,children:(0,t.jsx)(A.Text,{children:(0,t.jsx)("a",{href:(0,N.generateHelpUrl)(p),rel:"noopener noreferrer",target:"_blank",children:H("structure-error.docs-link.text")})})}),G[42]=p,G[43]=H,G[44]=C):C=G[44],G[45]!==H?(L=H("structure-error.reload-button.text"),G[45]=H,G[46]=L):L=G[46],G[47]!==u||G[48]!==L?($=(0,t.jsx)(A.Box,{marginTop:4,children:(0,t.jsx)(a.Button,{text:L,icon:T.SyncIcon,tone:"primary",onClick:u})}),G[47]=u,G[48]=L,G[49]=$):$=G[49],G[50]!==l||G[51]!==R||G[52]!==g||G[53]!==C||G[54]!==$||G[55]!==y||G[56]!==I||G[57]!==P||G[58]!==v||G[59]!==w||G[60]!==b?(k=(0,t.jsxs)(l,{marginTop:g,padding:y,radius:I,overflow:P,shadow:v,tone:w,children:[b,R,C,$]}),G[50]=l,G[51]=R,G[52]=g,G[53]=C,G[54]=$,G[55]=y,G[56]=I,G[57]=P,G[58]=v,G[59]=w,G[60]=b,G[61]=k):k=G[61],G[62]!==o||G[63]!==k||G[64]!==j?(z=(0,t.jsxs)(o,{children:[j,k]}),G[62]=o,G[63]=k,G[64]=j,G[65]=z):z=G[65],G[66]!==d||G[67]!==c||G[68]!==f||G[69]!==m||G[70]!==h||G[71]!==x||G[72]!==z?(M=(0,t.jsx)(d,{height:c,overflow:f,padding:m,sizing:h,tone:x,children:z}),G[66]=d,G[67]=c,G[68]=f,G[69]=m,G[70]=h,G[71]=x,G[72]=z,G[73]=M):M=G[73],M}function Z(e,n){return(0,t.jsx)(Q,{children:e},`${e}-${n}`)}function ee(){window.location.reload()}function et(){let e,r,a,l,o,d,u,p,c=(0,n.c)(17),{t:f}=(0,i.useTranslation)(s.structureLocaleNamespace);return c[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(A.Box,{children:(0,t.jsx)(A.Text,{size:1,children:(0,t.jsx)(T.WarningOutlineIcon,{})})}),c[0]=e):e=c[0],c[1]!==f?(r=f("no-document-types-screen.title"),c[1]=f,c[2]=r):r=c[2],c[3]!==r?(a=(0,t.jsx)(A.Text,{as:"h1",size:1,weight:"medium",children:r}),c[3]=r,c[4]=a):a=c[4],c[5]!==f?(l=f("no-document-types-screen.subtitle"),c[5]=f,c[6]=l):l=c[6],c[7]!==l?(o=(0,t.jsx)(A.Text,{as:"p",muted:!0,size:1,children:l}),c[7]=l,c[8]=o):o=c[8],c[9]!==f?(d=f("no-document-types-screen.link-text"),c[9]=f,c[10]=d):d=c[10],c[11]!==d?(u=(0,t.jsx)(A.Text,{as:"p",muted:!0,size:1,children:(0,t.jsx)("a",{href:"https://www.sanity.io/docs/create-a-schema-and-configure-sanity-studio",target:"_blank",rel:"noreferrer",children:d})}),c[11]=d,c[12]=u):u=c[12],c[13]!==a||c[14]!==o||c[15]!==u?(p=(0,t.jsx)(A.Card,{height:"fill",children:(0,t.jsx)(A.Flex,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:(0,t.jsx)(A.Container,{width:0,children:(0,t.jsx)(A.Card,{padding:4,radius:2,shadow:1,tone:"caution",children:(0,t.jsxs)(A.Flex,{children:[e,(0,t.jsxs)(A.Stack,{flex:1,marginLeft:3,space:3,children:[a,o,u]})]})})})})}),c[13]=a,c[14]=o,c[15]=u,c[16]=p):p=c[16],p}let en=e=>{let t,a,o=(0,n.c)(7),{documentId:d,documentType:u}=e,{selectedReleaseId:p}=(0,i.usePerspective)(),c=(0,i.useEditState)(d,u,"default",p),f=(0,i.useSchema)(),{t:m}=(0,i.useTranslation)(s.structureLocaleNamespace),h=!c?.published&&!c?.draft,x=c?.version||c?.draft||c?.published,g=f.get(u),{value:y,isLoading:I}=(0,i.useValuePreview)({enabled:!!x,schemaType:g,value:x}),{lastRevisionDocument:P}=(0,l.useDocumentLastRev)(d,u),v=P&&!x?"":h?m("browser-document-title.new-document",{schemaType:g?.title||g?.name}):y?.title||m("browser-document-title.untitled-document"),w=c.ready&&!I,b=ea(v);return o[0]!==b||o[1]!==w?(t=()=>{w&&(document.title=b)},o[0]=b,o[1]=w,o[2]=t):t=o[2],o[3]!==v||o[4]!==b||o[5]!==w?(a=[v,w,b],o[3]=v,o[4]=b,o[5]=w,o[6]=a):a=o[6],(0,r.useEffect)(t,a),null},er=e=>{let t,i,a=(0,n.c)(5),{title:l}=e,s=ea(l);return a[0]!==s?(t=()=>{document.title=s},a[0]=s,a[1]=t):t=a[1],a[2]!==s||a[3]!==l?(i=[s,l],a[2]=s,a[3]=l,a[4]=i):i=a[4],(0,r.useEffect)(t,i),null},ei=e=>{var r;let i,a=(0,n.c)(8),{resolvedPanes:s}=e;if(!s?.length)return null;let o=s[s.length-1];if(o===l.LOADING_PANE){let e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(er,{}),a[0]=e):e=a[0],e}if((r=o)!==l.LOADING_PANE&&"document"===r.type){let e;if(o?.title){let e;return a[1]!==o.title?(e=(0,t.jsx)(er,{title:o.title}),a[1]=o.title,a[2]=e):e=a[2],e}return a[3]!==o.options.id||a[4]!==o.options.type?(e=(0,t.jsx)(en,{documentId:o.options.id,documentType:o.options.type}),a[3]=o.options.id,a[4]=o.options.type,a[5]=e):e=a[5],e}let d=o?.title;return a[6]!==d?(i=(0,t.jsx)(er,{title:d}),a[6]=d,a[7]=i):i=a[7],i};function ea(e){let t,r=(0,n.c)(3),i=(0,l.useStructureTool)().structureContext.title;return r[0]!==e||r[1]!==i?(t=[e,i].filter(el),r[0]=e,r[1]=i,r[2]=t):t=r[2],t.join(" | ")}function el(e){return e}let es=(0,R.styled)(l.PaneLayout).withConfig({displayName:"StyledPaneLayout",componentId:"sc-1hgaa0f-0"})`min-height:100%;min-width:320px;`,eo=(0,C.isHotkey)("mod+s"),ed=(0,r.memo)(function(e){let a,s,d,p,c,m,g,I,P,E,T,R,C,k,M,U,K,V,J,q=(0,n.c)(58),{onPaneChange:Y}=e,{push:Q}=(0,D.useToast)(),X=(0,i.useSchema)(),{navigate:Z}=(0,o.useRouter)(),ee=(0,o.useRouterState)(),{layoutCollapsed:en,setLayoutCollapsed:er}=(0,l.useStructureTool)(),ea=function(){let e,t,i,a,s,d,p,c=(0,n.c)(19),[m,g]=(0,r.useState)(),[I,P]=(0,r.useState)(null);if(m)throw m;let{structureContext:E,rootPaneNode:T}=(0,l.useStructureTool)(),{navigate:A}=(0,o.useRouter)();c[0]===Symbol.for("react.memo_cache_sentinel")?(e={paneDataItems:[],resolvedPanes:[],routerPanes:[]},c[0]=e):e=c[0];let[D,R]=(0,r.useState)(e),C=function(){let e,t,i,a=(0,n.c)(6),[l]=(0,r.useState)(H);a[0]!==l?(e=l.asObservable().pipe((0,v.map)(F)),a[0]=l,a[1]=e):e=a[1];let s=e,{state:d}=(0,o.useRouter)();return a[2]!==d||a[3]!==l?(t=()=>{l.next(d)},i=[d,l],a[2]=d,a[3]=l,a[4]=t,a[5]=i):(t=a[4],i=a[5]),(0,r.useEffect)(t,i),s}();if(c[1]!==T||c[2]!==C||c[3]!==E?(t=()=>{let e=(function({routerPanesStream:e,rootPaneNode:t,initialCacheState:n={cacheKeysByFlatIndex:[],flattenedRouterPanes:[],resolvedPaneCache:new Map,resolvePane:()=>h.NEVER},structureContext:r}){return e.pipe((0,v.map)(e=>[[{id:"root"}],...e]),(0,v.map)(e=>e.flatMap((e,t)=>e.map((e,n)=>({routerPaneSibling:e,groupIndex:t,siblingIndex:n}))).map((e,t)=>({...e,flatIndex:t}))),(0,w.startWith)([]),(0,b.operate)(function(e,t){var n,r=!1;e.subscribe((0,j.createOperatorSubscriber)(t,function(e){var i=n;n=e,r&&t.next([i,e]),r=!0}))}),(0,v.map)(([e,t])=>{for(let n=0;n<t.length;n++){let r=e[n],i=t[n];if(!(0,u.isEqual)(r,i))return{flattenedRouterPanes:t,diffIndex:n}}return{flattenedRouterPanes:t,diffIndex:t.length}}),(0,S.scan)((e,t)=>{let{cacheKeysByFlatIndex:n,resolvedPaneCache:r}=e,{flattenedRouterPanes:i,diffIndex:a}=t,s=n.slice(0,a+1),o=n.slice(a+1),d=new Set(s.flatMap(e=>Array.from(e)));for(let e of o.flatMap(e=>Array.from(e)).filter(e=>!d.has(e)))r.delete(e);return{flattenedRouterPanes:i,cacheKeysByFlatIndex:n,resolvedPaneCache:r,resolvePane:$(e=>(t,i,a)=>{let s=t&&`${(0,l.assignId)(t)}-contextHash(${JSON.stringify({id:i.id,parentId:parent&&(0,l.assignId)(parent),path:i.path,index:i.index,splitIndex:i.splitIndex,serializeOptionsIndex:i.serializeOptions?.index,serializeOptionsPath:i.serializeOptions?.path})})`,o=s&&r.get(s);if(o)return o;let d=e(t,i,a);if(!s)return d;let u=n[a]||new Set;return u.add(s),n[a]=u,r.set(s,d),d})}},n),(0,y.switchMap)(({flattenedRouterPanes:e,resolvePane:n})=>(function e({unresolvedPane:t,flattenedRouterPanes:n,parent:r,path:i,resolvePane:a,structureContext:l}){let[s,...o]=n,d=o[0],u={id:s.routerPaneSibling.id,splitIndex:s.siblingIndex,parent:r,path:[...i,s.routerPaneSibling.id],index:s.flatIndex,params:s.routerPaneSibling.params||{},payload:s.routerPaneSibling.payload,structureContext:l};try{return a(t,u,s.flatIndex).pipe((0,y.switchMap)(n=>{let p,c={type:"resolvedMeta",...s,paneNode:n,path:u.path},m=o.map((e,t)=>({type:"loading",path:[...u.path,...o.slice(t).map((t,n)=>`[${e.flatIndex+n}]`)],paneNode:null,...e}));return o.length?(p=d?.routerPaneSibling.id.startsWith("__edit__")?e({unresolvedPane:G,flattenedRouterPanes:o,parent:r,path:u.path,resolvePane:a,structureContext:l}):s.groupIndex===d?.groupIndex?e({unresolvedPane:t,flattenedRouterPanes:o,parent:r,path:i,resolvePane:a,structureContext:l}):e({unresolvedPane:"function"==typeof n.child?z(n,"child"):n.child,flattenedRouterPanes:o,parent:n,path:u.path,resolvePane:a,structureContext:l}),(0,x.concat)((0,f.of)([c,...m]),p.pipe((0,v.map)(e=>[c,...e])))):(0,f.of)([c])}))}catch(e){if(e instanceof O&&(e.context&&console.warn(`Pane resolution error at index ${e.context.index}${e.context.splitIndex>0?` for split pane index ${e.context.splitIndex}`:""}: ${e.message}${e.helpId?` - see ${(0,N.generateHelpUrl)(e.helpId)}`:""}`,e),"structure-item-returned-no-child"===e.helpId))return(0,f.of)([]);throw e}})({unresolvedPane:t,flattenedRouterPanes:e,parent:null,path:[],resolvePane:n,structureContext:r}))).pipe((0,S.scan)((e,t)=>t.map((t,n)=>{let r=e[n];return r&&"loading"===t.type&&r.routerPaneSibling.id===t.routerPaneSibling.id?r:t}),[]),(0,_.distinctUntilChanged)((e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<t.length;n++){let r=e[n],i=t[n];if(B(r)!==B(i))return!1}return!0}))})({rootPaneNode:T,routerPanesStream:C,structureContext:E}).pipe((0,v.map)(W)).subscribe({next:e=>R(e),error:e=>g(e)});return()=>e.unsubscribe()},i=[T,C,E],c[1]=T,c[2]=C,c[3]=E,c[4]=t,c[5]=i):(t=c[4],i=c[5]),(0,r.useEffect)(t,i),c[6]!==D||c[7]!==A?(a=function(){let{paneDataItems:e,routerPanes:t}=D,n=e[e.length-1]?.pane;if(!n||n===l.LOADING_PANE||"document"!==n.type||!n.defaultPanes)return;let r=t[e.length-1];if(!r||1!==r.length)return;let i=r[0].params;if(i?.expanded)return;let a=n.defaultPanes.map((e,t)=>({id:r[0].id,params:{...i,view:e,...0===t?{expanded:"true"}:{}},payload:r[0].payload}));A({panes:[...t.slice(1,-1),a]},{replace:!0})},s=[D,A],c[6]=D,c[7]=A,c[8]=a,c[9]=s):(a=c[8],s=c[9]),(0,r.useEffect)(a,s),c[10]!==D.paneDataItems||c[11]!==I){let e;c[13]!==I?(e=e=>({...e,maximized:!!I&&e.key===I.key}),c[13]=I,c[14]=e):e=c[14],d=D.paneDataItems.map(e),c[10]=D.paneDataItems,c[11]=I,c[12]=d}else d=c[12];let L=d;return c[15]!==D||c[16]!==I||c[17]!==L?(p={...D,paneDataItems:L,maximizedPane:I,setMaximizedPane:P},c[15]=D,c[16]=I,c[17]=L,c[18]=p):p=c[18],p}(),{paneDataItems:el,resolvedPanes:ed,setMaximizedPane:ef,maximizedPane:ex}=ea,eg=(0,o.useRouterState)(eu),{sanity:ey}=(0,A.useTheme)(),{media:eI}=ey,[eP,ev]=(0,r.useState)(null);q[0]!==er?(a=()=>er(!0),q[0]=er,q[1]=a):a=q[1];let ew=a;q[2]!==er?(s=()=>er(!1),q[2]=er,q[3]=s):s=q[3];let eb=s;if(q[4]!==el){let e=el.findLastIndex(ep);d=-1===e?el:el.slice(e).filter(t=>t.groupIndex<=el[e].groupIndex),q[4]=el,q[5]=d}else d=q[5];let ej=d;q[6]!==Y||q[7]!==ed?(p=()=>{ed.length&&Y(ed)},c=[Y,ed],q[6]=Y,q[7]=ed,q[8]=p,q[9]=c):(p=q[8],c=q[9]),(0,r.useEffect)(p,c),q[10]!==Q?(m=()=>{let e=e=>{eo(e)&&(e.preventDefault(),Q({closable:!0,id:"auto-save-message",status:"info",title:"Your work is automatically saved!",duration:4e3}))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},g=[Q],q[10]=Q,q[11]=m,q[12]=g):(m=q[11],g=q[12]),(0,r.useEffect)(m,g);let eS=X._original?.types.some(i._isCustomDocumentTypeDefinition);q[13]!==Z||q[14]!==ee?.panes||q[15]!==ef?(I=e=>{if(!e)return;let t=ee?.panes||[];if(e.maximized){ef(null),Z({panes:t});return}if(e.pane!==l.LOADING_PANE&&"document"===e.pane.type){let n=t.slice(0,e.groupIndex);ef(e),Z({panes:n})}},q[13]=Z,q[14]=ee?.panes,q[15]=ef,q[16]=I):I=q[16];let e_=I,eE=(0,r.useRef)(-1);q[17]!==Z||q[18]!==el||q[19]!==ee?.panes||q[20]!==ef?(P=()=>{let e=el.find(ec);e&&(e.pane!==l.LOADING_PANE&&"document"===e.pane.type&&ef(e),Z({panes:(ee?.panes||[]).map(em)},{replace:!0}))},q[17]=Z,q[18]=el,q[19]=ee?.panes,q[20]=ef,q[21]=P):P=q[21];let eN=ee?.panes;if(q[22]!==Z||q[23]!==el||q[24]!==ef||q[25]!==eN?(E=[Z,el,eN,ef],q[22]=Z,q[23]=el,q[24]=ef,q[25]=eN,q[26]=E):E=q[26],(0,r.useEffect)(P,E),q[27]!==ex||q[28]!==el||q[29]!==ef?(T=()=>{let e=el.findIndex(eh),t=eE.current;if(eE.current=e,ex){if(ex.pane!==l.LOADING_PANE&&"document"!==ex.pane.type)return void ef(null);if(-1!==e&&e!==t)return void ef(el[e]);el.some(e=>e.key===ex.key)||ef(el.find(e=>e.groupIndex===ex.groupIndex&&e.siblingIndex===ex.siblingIndex&&e.pane!==l.LOADING_PANE&&"document"===e.pane.type)||null)}},R=[ex,el,ef],q[27]=ex,q[28]=el,q[29]=ef,q[30]=T,q[31]=R):(T=q[30],R=q[31]),(0,r.useEffect)(T,R),!eS){let e;return q[32]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(et,{}),q[32]=e):e=q[32],e}let eT=eP||null,eA=en?void 0:"fill",eD=eI[1];if(q[33]!==e_||q[34]!==ej){let e;q[36]!==e_?(e=e=>{let{active:n,childItemId:i,groupIndex:a,itemId:s,key:o,pane:d,index:u,params:p,path:c,payload:f,siblingIndex:m,selected:h,maximized:x}=e;return(0,t.jsx)(r.Fragment,{children:d===l.LOADING_PANE?(0,t.jsx)(l.LoadingPane,{paneKey:o,path:c,selected:h}):(0,t.jsx)(l.StructureToolPane,{active:n,groupIndex:a,index:u,pane:d,childItemId:i,itemId:s,paneKey:o,params:p,payload:f,path:c,selected:h,siblingIndex:m,maximized:x,onSetMaximizedPane:()=>e_(e)})},`${d===l.LOADING_PANE?"loading":d.type}-${u}`)},q[36]=e_,q[37]=e):e=q[37],C=ej.map(e),q[33]=e_,q[34]=ej,q[35]=C}else C=q[35];return q[38]!==eg||q[39]!==el.length?(k=el.length<=1&&eg&&(0,t.jsx)(l.LoadingPane,{paneKey:"intent-resolver"}),q[38]=eg,q[39]=el.length,q[40]=k):k=q[40],q[41]!==ew||q[42]!==eb||q[43]!==eI[1]||q[44]!==eA||q[45]!==C||q[46]!==k?(M=(0,t.jsxs)(es,{flex:1,height:eA,minWidth:eD,onCollapse:ew,onExpand:eb,children:[C,k]}),q[41]=ew,q[42]=eb,q[43]=eI[1],q[44]=eA,q[45]=C,q[46]=k,q[47]=M):M=q[47],q[48]!==ed?(U=(0,t.jsx)(ei,{resolvedPanes:ed}),q[48]=ed,q[49]=U):U=q[49],q[50]===Symbol.for("react.memo_cache_sentinel")?(K=(0,t.jsx)("div",{"data-portal":"",ref:ev}),q[50]=K):K=q[50],q[51]!==eT||q[52]!==M||q[53]!==U?(V=(0,t.jsxs)(A.PortalProvider,{element:eT,children:[M,U,K]}),q[51]=eT,q[52]=M,q[53]=U,q[54]=V):V=q[54],q[55]!==ea||q[56]!==V?(J=(0,t.jsx)(L.ResolvedPanesProvider,{value:ea,children:V}),q[55]=ea,q[56]=V,q[57]=J):J=q[57],J});function eu(e){return"string"==typeof e.intent}function ep(e){return e.maximized}function ec(e){return e.params?.mode==="focus"}function ef(e){let{mode:t,...n}=e.params||{},r=Object.keys(n).length?n:void 0;return{...e,params:r}}function em(e){return e.map(ef)}function eh(e){return e.selected}function ex(e){let o,d,u,p,c,f,m,h=(0,n.c)(14),{tool:x}=e,{options:g}=x,{unstable_sources:y}=(0,i.useWorkspace)(),[I]=y;h[0]!==g?(o=g||{},h[0]=g,h[1]=o):o=h[1];let{source:P,defaultDocumentNode:v,structure:w}=o;h[2]===Symbol.for("react.memo_cache_sentinel")?(d=[],h[2]=d):d=h[2],(0,r.useEffect)(eg,d),h[3]===Symbol.for("react.memo_cache_sentinel")?(u={error:null},h[3]=u):u=h[3];let[b,j]=(0,r.useState)(u),{error:S}=b;if(S){let e;return h[4]!==S?(e=(0,t.jsx)(X,{error:S}),h[4]=S,h[5]=e):e=h[5],e}let _=P||I.name;return h[6]===Symbol.for("react.memo_cache_sentinel")?(p=(0,t.jsx)(ed,{onPaneChange:l.setActivePanes}),c=(0,t.jsx)(q,{}),h[6]=p,h[7]=c):(p=h[6],c=h[7]),h[8]!==v||h[9]!==w?(f=(0,t.jsxs)(s.StructureToolProvider,{defaultDocumentNode:v,structure:w,children:[p,c]}),h[8]=v,h[9]=w,h[10]=f):f=h[10],h[11]!==_||h[12]!==f?(m=(0,t.jsx)(a.ErrorBoundary,{onCatch:j,children:(0,t.jsx)(i.SourceProvider,{name:_,children:f})}),h[11]=_,h[12]=f,h[13]=m):m=h[13],m}function eg(){return(0,l.setActivePanes)([]),ey}function ey(){return(0,l.setActivePanes)([])}e.s(["default",()=>ex],43195)}]);